(function(a){a.ajax_extend=function(h,d){h=h||{};d=a.extend(true,a.ajax_extend.defaultOptions,d);if(h.data&&d.requestDataFormat&&typeof d.requestDataFormat=="function"){h.data=d.requestDataFormat(h.data)}var g=h.error;var f=0;var c=function(k,i,j){if(f<d.errRetryLimit){if(typeof d.errRetry=="function"){d.errRetry(k,i,j,f+1)}f++;if(d.errRetryInterval>0){setTimeout(b,d.errRetryInterval)}else{b()}return true}return false};h.error=function(k,i,j){if(c(k,i,j)==true){return}if(typeof g=="function"){g(k,i,j)}};var e=h.success;h.success=function(i){if(i&&d.responseDataFormat&&typeof d.responseDataFormat=="function"){i=d.responseDataFormat(i)}if(d.customRetryErr&&typeof d.customRetryErr=="function"){if(d.customRetryErr(i)==true){if(c(null,null,i)==true){return}}}if(typeof e=="function"){e(i)}};var b=function(){a.ajax(h)};b()};a.ajax_extend.defaultOptions={errRetryLimit:0,errRetryInterval:0,customRetryErr:null,errRetry:null,requestDataFormat:null,responseDataFormat:null}})(jQuery);